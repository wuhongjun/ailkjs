define("seajq/modal/1.0.0/modal",["gallery/jquery/1.8.3/jquery"],function(a,b,c){var d=window.$||a("gallery/jquery/1.8.3/jquery"),e=function(a,b){this.options=b,this.$element=d(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",d.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,b=d.Event("show");this.$element.trigger(b),this.isShown||b.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var b=d.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body),a.$element.show(),b&&a.$element[0].offsetWidth,a.$element.addClass("in").attr("aria-hidden",!1),a.enforceFocus(),b?a.$element.one(d.support.transition.end,function(){a.$element.focus().trigger("shown")}):a.$element.focus().trigger("shown")}))},hide:function(a){a&&a.preventDefault(),a=d.Event("hide"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),d(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),d.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var a=this;d(document).on("focusin.modal",function(b){a.$element[0]===b.target||a.$element.has(b.target).length||a.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var a=this,b=setTimeout(function(){a.$element.off(d.support.transition.end),a.hideModal()},500);this.$element.one(d.support.transition.end,function(){clearTimeout(b),a.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(a){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=d.support.transition&&c;if(this.$backdrop=d('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?d.proxy(this.$element[0].focus,this.$element[0]):d.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a)return;e?this.$backdrop.one(d.support.transition.end,a):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(d.support.transition.end,a):a()):a&&a()}};var f=d.fn.modal;d.fn.modal=function(a){return this.each(function(){var b=d(this),c=b.data("modal"),f=d.extend({},d.fn.modal.defaults,b.data(),"object"==typeof a&&a);c||b.data("modal",c=new e(this,f)),"string"==typeof a?c[a]():f.show&&c.show()})},d.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},d.fn.modal.Constructor=e,d.fn.modal.noConflict=function(){return d.fn.modal=f,this},e.autoinit=function(){d(document).on("click.modal.data-api",'[data-toggle="modal"]',function(a){var b=d(this),c=b.attr("href"),e=d(b.attr("data-target")||c&&c.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":d.extend({remote:!/#/.test(c)&&c},e.data(),b.data());a.preventDefault(),e.modal(f).one("hide",function(){b.focus()})})},c.exports=e});